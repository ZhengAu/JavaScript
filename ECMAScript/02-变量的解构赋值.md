# 变量的解构赋值

解构赋值可用于数组，对象，字符串，数值和布尔值，函数参数。

## 数组的解构赋值

ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。解构分为完全解构和不完全解构。
> let [a, b, c] = [1, 2, 3];
如果解构不成功，变量的值就等于`undefined`
解构可能报错，等号右边是不可遍历的结构，如：数值，bool值，NaN，undefined，null，{}。
事实上，只要某种数据结构具有 Iterator 接口，都可以采用数组形式的解构赋值。
解构赋值允许指定默认值。（只有当数组成员是undefined时，默认值才生效；null不严格等于undefined）

## 对象的解构赋值

数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，变量必须与属性同名，才能取到正确的值。
如果解构失败，变量的值等于undefined。
对象的解构也可以指定默认值。默认值生效的条件是，对象的属性值严格等于undefined。

如果变量名和属性名不一致，必须写成下面这样：

```javascript
let { foo: baz } = { foo: 'aaa', bar: 'bbb' };
baz // "aaa"

// foo 是匹配的模式
// baz 才是变量
```

## 字符串的解构赋值

字符串也可以解构赋值。这是因为此时，字符串被转换成了一个类似数组的对象。
类似数组的对象都有一个length属性，因此还可以对这个属性解构赋值。

```javascript
const [a, b, c, d, e] = 'hello';
a // "h"
b // "e"
c // "l"
d // "l"
e // "o"

let {length : len} = 'hello';
len // 5
```

## 数值和布尔值的解构赋值

解构赋值时，如果等号右边是数值和布尔值，则会先转为对象。
解构赋值的规则是，只要等号右边的值不是对象或数组，就先将其转为对象。由于undefined和null无法转为对象，所以对它们进行解构赋值，都会报错。

## 函数参数的解构赋值

函数的参数也可以使用解构赋值。函数参数的解构也可以使用默认值。

```javascript
function move({x = 0, y = 0} = {}) {
  return [x, y];
}

move({x: 3, y: 8}); // [3, 8]
move({x: 3}); // [3, 0]
move({}); // [0, 0]
move(); // [0, 0]
```

## 不能使用圆括号的情况

- 变量声明语句
- 函数参数
- 赋值语句的模式

## 用途

变量的解构赋值用途很多。

- 交换变量的值
- 从函数返回多个值（数组，对象）
- 函数参数的定义
- 提取JSON的数据
- 函数参数的默认值
- 遍历Map结构
- 输入模块的指定方法

## 小结

本节主要讲了解构赋值，主要是数组和对象的形式，对于数值和布尔值等其他类型的，会先解析成对象再进行解构赋值。但对于undefined和null，则不能够进行解构赋值。
注意解构赋值中能使用和不能使用圆括号的情况。
解构赋值的用途。
